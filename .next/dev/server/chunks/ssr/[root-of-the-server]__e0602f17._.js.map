{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/noahpique/Documents/AnthemTool/anthem-songwish/src/pages/index.tsx"],"sourcesContent":["import Head from \"next/head\";\nimport type { NextPage } from \"next\";\nimport React, { useState } from \"react\";\n\nimport SongSearchModal from \"../components/SongSearchModal\";\nimport type { Track } from \"../components/SongSearch\";\n\nconst MAX_SONGS = 3;\n\nconst HomePage: NextPage = () => {\n  const [selectedTracks, setSelectedTracks] = useState<Track[]>([]);\n  const [activeSlotIndex, setActiveSlotIndex] = useState<number | null>(null);\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\n\n  const openSearchForSlot = (slotIndex: number) => {\n    setActiveSlotIndex(slotIndex);\n    setIsSearchOpen(true);\n  };\n\n  const closeSearch = () => {\n    setIsSearchOpen(false);\n    setActiveSlotIndex(null);\n  };\n\n  const handleSelectTrack = (track: Track) => {\n    if (activeSlotIndex === null) {\n      return;\n    }\n\n    const existsInOtherSlot = selectedTracks.some(\n      (selected, index) => selected && selected.id === track.id && index !== activeSlotIndex,\n    );\n\n    if (existsInOtherSlot) {\n      alert(\"Du hast diesen Song bereits ausgewählt.\");\n      return;\n    }\n\n    setSelectedTracks((prev) => {\n      const copy = [...prev];\n      while (copy.length <= activeSlotIndex) {\n        copy.push(undefined as unknown as Track);\n      }\n      copy[activeSlotIndex] = track;\n      return copy;\n    });\n  };\n\n  const handleRemoveTrack = (index: number) => {\n    setSelectedTracks((prev) => prev.filter((_, i) => i !== index));\n  };\n\n  return (\n    <>\n      <Head>\n        <title>Anthem Party – Songwunsch</title>\n        <meta\n          name=\"description\"\n          content=\"Such deine Lieblingssongs, wähle bis zu drei Favoriten aus und steigere die Chancen, dass sie zur Primetime gespielt werden.\"\n        />\n      </Head>\n      <main className=\"mx-auto flex min-h-screen max-w-2xl flex-col gap-8 px-4 py-10\">\n        <header className=\"flex flex-col items-center gap-3 text-center\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">\n            Anthem Party – Songwunsch\n          </h1>\n          <p className=\"text-sm text-gray-600\">\n            Suche nach deinen Lieblingssongs und füge bis zu drei Wünsche hinzu. Die beliebtesten Tracks schaffen es in die Primetime.\n          </p>\n        </header>\n\n        <div className=\"w-full space-y-3\">\n          {Array.from({ length: MAX_SONGS }).map((_, idx) => {\n            const track = selectedTracks[idx];\n\n            return (\n              <div\n                key={idx}\n                className=\"flex items-center justify-between gap-3 rounded-xl border border-gray-100 bg-white p-3 shadow-sm\"\n              >\n                <div className=\"flex flex-1 items-center gap-3\">\n                  <div className=\"w-6 text-sm font-semibold\">{idx + 1}.</div>\n                  {track ? (\n                    <>\n                      {track.image_url && (\n                        // eslint-disable-next-line @next/next/no-img-element\n                        <img\n                          src={track.image_url}\n                          alt={track.name}\n                          className=\"h-12 w-12 rounded-md object-cover\"\n                        />\n                      )}\n                      <div>\n                        <div className=\"font-medium text-gray-900\">{track.name}</div>\n                        <div className=\"text-sm text-gray-600\">{track.artists}</div>\n                      </div>\n                    </>\n                  ) : (\n                    <div className=\"text-sm text-gray-500\">Noch kein Song gewählt</div>\n                  )}\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  {track && (\n                    <button\n                      type=\"button\"\n                      className=\"text-xs text-gray-500 underline\"\n                      onClick={() => handleRemoveTrack(idx)}\n                    >\n                      Entfernen\n                    </button>\n                  )}\n                  <button\n                    type=\"button\"\n                    className=\"rounded-xl border border-gray-200 px-3 py-1 text-sm hover:border-gray-300\"\n                    onClick={() => openSearchForSlot(idx)}\n                  >\n                    {track ? \"Ändern\" : \"Song wählen\"}\n                  </button>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </main>\n\n      <SongSearchModal\n        isOpen={isSearchOpen}\n        onClose={closeSearch}\n        onSelect={handleSelectTrack}\n      />\n    </>\n  );\n};\n\nexport default HomePage;\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;;;;;;;AAKA,MAAM,YAAY;AAElB,MAAM,WAAqB;IACzB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,+GAAQ,EAAU,EAAE;IAChE,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,+GAAQ,EAAgB;IACtE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAC;IAEjD,MAAM,oBAAoB,CAAC;QACzB,mBAAmB;QACnB,gBAAgB;IAClB;IAEA,MAAM,cAAc;QAClB,gBAAgB;QAChB,mBAAmB;IACrB;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,oBAAoB,MAAM;YAC5B;QACF;QAEA,MAAM,oBAAoB,eAAe,IAAI,CAC3C,CAAC,UAAU,QAAU,YAAY,SAAS,EAAE,KAAK,MAAM,EAAE,IAAI,UAAU;QAGzE,IAAI,mBAAmB;YACrB,MAAM;YACN;QACF;QAEA,kBAAkB,CAAC;YACjB,MAAM,OAAO;mBAAI;aAAK;YACtB,MAAO,KAAK,MAAM,IAAI,gBAAiB;gBACrC,KAAK,IAAI,CAAC;YACZ;YACA,IAAI,CAAC,gBAAgB,GAAG;YACxB,OAAO;QACT;IACF;IAEA,MAAM,oBAAoB,CAAC;QACzB,kBAAkB,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;IAC1D;IAEA,qBACE;;0BACE,qKAAC,gIAAI;;kCACH,qKAAC;kCAAM;;;;;;kCACP,qKAAC;wBACC,MAAK;wBACL,SAAQ;;;;;;;;;;;;0BAGZ,qKAAC;gBAAK,WAAU;;kCACd,qKAAC;wBAAO,WAAU;;0CAChB,qKAAC;gCAAG,WAAU;0CAAmC;;;;;;0CAGjD,qKAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAKvC,qKAAC;wBAAI,WAAU;kCACZ,MAAM,IAAI,CAAC;4BAAE,QAAQ;wBAAU,GAAG,GAAG,CAAC,CAAC,GAAG;4BACzC,MAAM,QAAQ,cAAc,CAAC,IAAI;4BAEjC,qBACE,qKAAC;gCAEC,WAAU;;kDAEV,qKAAC;wCAAI,WAAU;;0DACb,qKAAC;gDAAI,WAAU;;oDAA6B,MAAM;oDAAE;;;;;;;4CACnD,sBACC;;oDACG,MAAM,SAAS,IACd,qDAAqD;kEACrD,qKAAC;wDACC,KAAK,MAAM,SAAS;wDACpB,KAAK,MAAM,IAAI;wDACf,WAAU;;;;;;kEAGd,qKAAC;;0EACC,qKAAC;gEAAI,WAAU;0EAA6B,MAAM,IAAI;;;;;;0EACtD,qKAAC;gEAAI,WAAU;0EAAyB,MAAM,OAAO;;;;;;;;;;;;;6EAIzD,qKAAC;gDAAI,WAAU;0DAAwB;;;;;;;;;;;;kDAG3C,qKAAC;wCAAI,WAAU;;4CACZ,uBACC,qKAAC;gDACC,MAAK;gDACL,WAAU;gDACV,SAAS,IAAM,kBAAkB;0DAClC;;;;;;0DAIH,qKAAC;gDACC,MAAK;gDACL,WAAU;gDACV,SAAS,IAAM,kBAAkB;0DAEhC,QAAQ,WAAW;;;;;;;;;;;;;+BAvCnB;;;;;wBA4CX;;;;;;;;;;;;0BAIJ,qKAAC;gBACC,QAAQ;gBACR,SAAS;gBACT,UAAU;;;;;;;;AAIlB;uCAEe","debugId":null}}]
}